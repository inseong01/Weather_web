# 날씨예보 (+React)

공공데이터포털 기상청_단기예보/중기예보, 에어코리아 API 활용    
<br />

# 1. 작업일자   
07.07.  - 날씨 아이콘 구현   

07.07.  - 미세먼지 수치, 그래프 애니메이션 구현 

07.06. - 미세먼지 상태 구현  

07.05. - 주간 예보 구현
  
07.04. - 시간 별 예보 구현   

07.03. - 현재 날씨 구현

07.02.  - API 인증키 발급, 디자인 시안 제작   
<br />  

# 2. 느낀점   
## 07.08.   
  ### 날씨 상태 아이콘 출력   
  - 코드 함수 재사용  

    : 강수형태, 하늘상태를 기준으로 아이콘을 불러오기 위해 숫자 코드 입력값을 아이콘 이미지 파일명과 일치하는 문자열로 출력.    

    시간 단위와 일별 단위에서도 아이콘을 출력해야 돼서 함수를 따로 분리하여 재사용. 아이콘을 어떻게 분류할지 초기 함수 설계에서 시간 들였지만 이후로 함수 적용할 때는 수월했음.   

  ### 일별 날씨 상태  
  - 함수, 입출력 추가/제거의 중요성   

    : 단기예보 API에서 1~2일차, 중기예보 API에서 3~7일차 오전/오후 날씨 상태를 불러와야 했음. 주간 예보 구현할 때와 같은 문제. 여기서 고민되었던 건 주간 최고/저온도 배열에 같이 묶어서 값을 전달할 지, 따로 나눠서 전달할지 고민됐음. 어차피 데이터를 다시 분리해야 돼서 따로 보내기로 결정. 새로운 함수를 만들면서 문득 원래 함수를 유동적으로 잘 만들었다면 새로운 데이터를 출력하는데 쉽지 않았을까 의문이 들었음.   
    <br/>

  - 중기예보 API 출력값 문제   

    : 단기예보 API 오전/오후 날씨 상태 값이 숫자였지만 중기예보 날씨 상태값은 문장이었음. 설명 문서를 봐도 코드 기준 값처럼 참고자료는 없고 예시 문장만 있었음.    

    ``예) { wf3Pm: "구름많고 소나기" }``  

    예시 문장 외의 상황을 어떻게 구현할지 당황스러웠음. 문장 끝이 단어로 끝나는 걸 보고 마지막 단어 기준으로 날씨 상태 판별. 에러 나면 출력값 확인하면서 값 수정해야 됨.   

## 07.07.   
  ### undefined 에러 처리   
  - 컴포넌트 return()   

    : 리액트에서 초기값이 undefined일 때, 조건을 붙여서 값이 없을 때는 null로 출력을 감추어야 한다. 그렇지 않으면 첫 렌더링 될 때 오류가 발생돼서 화면이 보이지 않게 된다.    
    <br/>

  ### API 응답
  - 응답 데이터 중복      
      
    : 미세먼지 상태 현황 글자 값을("좋음", "나쁨" ...) 가져오려고 API를 불러왔지만 미세먼지 수치값을 불러오는 API에서도 비슷한 값(숫자)을 불러오고 있었음.   

    데이터 중복을 줄이기 위해 전날에 만들었던 함수는 새로운 API가 같은 값을 출력하기 전까지 주석처리. 새로운 함수가 수치값과 상태 값을 출력하도록 만듦. 코딩하기 전, API의 응답메시지와 초기 기획 준비가 중요함.   
    <br/>   

## 07.05.  
  ### 데이터 가공    
  - 일간, 주간 예보 데이터 병합    

    : API의 출력값이 서로 달랐음. 하나는 배열에 여러 개의 값이 
    ``[{...}, {...}, {...} ...]``, 다른 하나는 ```[{...}]``` 한 배열에 모든 값이 들어가 있었음. 한 API에서 필요한 주간(1,2일차) 데이터만 얻어야 하는 상황에서 두 API 값을 합쳐야 했음.   

    값이 모여 있던 배열은 Object.entries로 여러 값으로 배열화. 두 개의 API 배열을 concat으로 합치고 거기서 필요한 값만 .filter로 거르고 주간 최고/최저온도를 출력. 

    API 출력값이 이상해서 데이터 처리하는데 많은 시간 소요. 가공 능력도 중요하면서도 API 출력값에 따라 작업능률이 달랐음.		
    <br/>

  ### 알고리즘   
  - 데이터 가공      

    : 요일을 연속으로 출력하는 것에서 알고리즘 문제를 푸는 듯 함. 
    알고리즘과 개발 능력은 어느정도 관계 있었음. 알고리즘을 금방 파악하면 문제 접근과 해결 시간 단축됨. 삽질하는 시간 감소.  
    <br/>  

## 07.04.  
### 데이터 검색
	  - 최고온도 불러오기   
    : 기상청이 특정시간에만 제공하는 것을 몰랐음. 설명서 잘 읽기.

  ### 데이터 분산
	  - 초단기, 단기예보 데이터   
    : 예보마다 불러오는 데이터 종류가 달라서 한  번에 가져오는 것이 까다로웠음


  
<br />  

# 3. 저작권 
<p style=font-size:11px>"본 저작물은 '공공데이터포털'에서 공공누리 제1유형으로 개방한 '기상청_단기예보 ((구)_동네예보) 조회서비스', '기상청_중기예보 조회서비스', '한국환경공단_에어코리아_대기오염정보'을 이용하였으며, 해당 저작물은 '공공데이터포털'에서 무료로 다운받으실 수 있습니다."</p>

#
<a href="https://www.flaticon.com/kr/free-icons/" title=" 아이콘"> 아이콘 제작자: 90Box - Flaticon</a>    
<a href="https://www.flaticon.com/kr/free-icons/" title=" 아이콘"> 아이콘 제작자: 90Box - Flaticon</a>    
<a href="https://www.flaticon.com/kr/free-icons/" title=" 아이콘"> 아이콘 제작자: 90Box - Flaticon</a>    
<a href="https://www.flaticon.com/kr/free-icons/" title=" 아이콘"> 아이콘 제작자: 90Box - Flaticon</a>    
<a href="https://www.flaticon.com/kr/free-icons/" title=" 아이콘"> 아이콘 제작자: 90Box - Flaticon</a>    
<a href="https://www.flaticon.com/kr/free-icons/" title=" 아이콘"> 아이콘 제작자: 90Box - Flaticon</a>    